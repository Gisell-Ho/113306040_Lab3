<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
</head>

<body>
    <h1>113306040_Lab3</h1>
    <div id="image">
    </div>
    <script>
        var randomNum;
        randomNum = Math.floor((Math.random() * 100) + 1)
        while (randomNum === 1 || randomNum === 100) {
            randomNum = Math.floor((Math.random() * 100) + 1)
        }

        // alert(randomNum);

        var max = 100;
        var min = 1;
        var remainChances = 7;
        var promptText; // 提示內容
        var num; // 輸入值
        var rightAnswer = 0; // flag if get right answer
        var pageImage = document.getElementById("image");

        while (remainChances != 0 && rightAnswer != 1) {
            promptText = "請輸入還剩下" + min + "~" + max + "之間的數字\n還剩下" + remainChances + "次機會";
            num = window.prompt(promptText);

            if (num > min && num < max) {

                if (num == randomNum) {
                    rightAnswer = 1;
                }
                else {
                    if (num > randomNum) {
                        max = num;
                    } else if (num < randomNum) {
                        min = num;
                    }
                    remainChances--;
                }
                
            }
            else {
                alert("請輸入有效範圍內的數字！(不能選擇範圍的上下限)");
            }
        }

        if(rightAnswer != 1) {
            alert("正確答案="+randomNum);
            pageImage.innerHTML="<img src='https://drive.google.com/thumbnail?id=1RAx7IFHkhwO_WyFFDVmKhuU9NqTBaZ7u' >"
        }
        else {
            alert("恭喜你答對了！");
            pageImage.innerHTML="<img src='https://drive.google.com/thumbnail?id=1HvcBP0oARYSaOBsY1QE0NGQz2t6PdY5H' >"
        }
        


    </script>
</body>

</html>